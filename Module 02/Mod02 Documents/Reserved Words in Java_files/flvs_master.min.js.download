function globalBox(t){"ontouchstart"in document&&$(".modal-pop",t).each(function(){$(this).addClass("pop").removeClass("modal-pop")}),$(".lightbox",t).each(function(){var t=$(this).attr("data-maxWidth"),e=$(this).attr("data-maxHeight");null!=t&&""!=t||(t="80%"),null!=e&&""!=e||(e="80%"),$(this).colorbox({scalePhotos:!0,maxWidth:t,maxHeight:e,fixed:!0})}),$(".gallery",t).each(function(){var t=$(this).attr("data-maxWidth"),e=$(this).attr("data-maxHeight");null!=t&&""!=t||(t="60%"),null!=e&&""!=e||(e="60%"),$(this).colorbox({rel:$(this).attr("rel"),scalePhotos:!0,width:t,height:e,fixed:!0,arrowKey:!0})}),$(".modal-pop",t).each(function(){var t=$(this).attr("data-mWidth"),e=$(this).attr("data-mHeight");null==t&&(t="90%"),null==e&&(e="90%"),$(this).hasClass("dlink")?$(this).colorbox({title:"",iframe:!0,width:t,height:e,fixed:!0}):$(this).colorbox({iframe:!0,width:t,height:e,fixed:!0})}),$('[data-toggle="collapse"]',t).each(function(){if(0===$(this).siblings(".in").length){var t=$(document.createElement("span")).addClass("collapseArrow glyphicon glyphicon-circle-arrow-down");$(this).addClass("collapsed")}else t=$(document.createElement("span")).addClass("collapseArrow glyphicon glyphicon-circle-arrow-up");$(this).css("cursor","pointer"),0===$(this).children("span.collapseArrow").length&&$(this).prepend(t)}),$(".tabs",t).each(function(){var t=$(document.createElement("div")).addClass("tabs-block"),e=$(document.createElement("div")).addClass("panel-block"),a=$(document.createElement("br")).addClass("clear tab-br");$(this).append(t),$(this).append(a),$(this).append(e),$(this).find(".panel").each(function(t){t=$(this).index();$(this).appendTo(e).attr("data-id",t)}),$(this).find(".tab").each(function(){$(this).appendTo(t),$(this).attr("href","javascript:void(0);"),$(this).removeClass("active"),$(this).click(function(){$(t).find(".tab").removeClass("active"),$(this).addClass("active");var a=$(this).index();$(e).find(".panel").addClass("notVisible"),$(e).find(".panel:eq("+a+")").removeClass("notVisible")})}),$(t).find(".tab:eq(0)").addClass("active"),$(e).find(".panel").each(function(t){0!=t&&$(this).addClass("notVisible")}),$(this).attr("data-position")&&("left"==$(this).attr("data-position")?($(this).find("br.tab-br").remove(),$(this).append(a),$(t).find(".tab").addClass("leftAlign"),$(t).css("float","left").css("width","20%"),$(e).css("float","left").css("width","80%")):$(this).attr("data-position")&&($(this).find("br.tab-br").remove(),$(this).append(a),$(t).find(".tab").addClass("rightAlign"),$(t).css("float","right").css("width","20%"),$(e).css("float","right").css("width","80%")))}),$(".roundabout",t).each(function(){var t="0.0",e="600",a="",i="",s="li",n="0",o="false",r=400,l=700;$(this).attr("data-autoplay")&&(o=$(this).data("autoplay")),$(this).attr("data-startingchild")&&(n=$(this).data("startingchild")),$(this).attr("data-childselector")&&(s=$(this).data("childselector")),$(this).attr("data-btnnext")&&(i=$(this).data("btnnext")),$(this).attr("data-btnprev")&&(a=$(this).data("btnprev")),$(this).attr("data-duration")&&(e=$(this).data("duration")),$(this).attr("data-tilt")&&(t=$(this).data("tilt")),$(this).attr("data-height")?(r=$(this).data("height"),$(this).css("height",r)):(r=$(this).children().height()+50,$(this).css("height",r)),$(this).attr("data-width")?(l=$(this).data("width"),$(this).css("width",l)):(l=$(this).parent().width()-50,$(this).css("width",l)),$(this).roundabout({duration:e,btnNext:i,btnPrev:a,reflect:!0,tilt:t,autoplay:o,startingChild:n,childSelector:s})}),$(".tooltip",t).each(function(){var t=$(this).attr("data-tip"),e=$(this).attr("data-position")||"top",a=$(this).html(),i=$(this).data(),s=$("<a />").attr({href:"javascript:void(0);",class:"_tip tip-"+e,title:t}).data(i).html(a);$(this).after(s),$(this).remove()}),$(".dbtip",t).each(function(){var t=$(this).find("span").clone();$(this).find("span").remove();var e=$.trim($(this).text());$(this).empty();var a=$(document.createElement("span")).addClass("dbtip_container"),i=$(document.createElement("a")).attr("href","javascript:void(0)").html(e);$(this).replaceWith(a),$(i).appendTo(a),$(t).appendTo(a)}),$(".audio-tip").each(function(){var t=$(this).attr("data-tip"),e=$(this).attr("data-position")||"top",a=$(this).html(),i=$(this).attr("data-src"),s=$(this).attr("data-audio-type"),n=$(this).data(),o='<audio class="audioBtn audioTip" src="'+i+'" controls></audio> ',r=$("<a />").attr({href:"javascript:void(0);",class:"_audio-tip audio-tip-"+e,title:o+t,"data-src":i,"data-audio-type":s}).data(n).html(a);$(this).after(r),$(this).remove(),require(["mediaelement"],function(t){})}),$(".popover").each(function(){var t=$(this).data("title"),e=$(this).data("content"),a=$(this).data("position"),i=$(this).html();$(this).removeClass("popover");var s=$(this).attr("class"),n=$(this).data("html"),o=$(this).data("container");if(o||(o=""),n||(n="false"),"ontouchstart"in window)var r="click";else r=$(this).data("trigger");var l=$(document.createElement("a")).attr("href","javascript:void(0);").attr("class","pop-over "+s).attr("data-original-title",t).attr("data-content",e).attr("data-placement",a).attr("data-trigger",r).attr("data-html",n).attr("data-container",o).html(i);$(this).after(l);$(this).remove()}),function(t){$(".pop-over",t).popover()}(document);var e=null;$(document).on("shown.bs.popover",function(t){var a=$(t.target);e&&e.get(0)!=a.get(0)&&e.popover("hide"),e=a}),$(document).on("hidden.bs.popover",function(t){var a=$(t.target);e&&e.get(0)==a.get(0)&&(e=null)}),$(document).on("click",function(t){0==$(t.target).hasClass("pop-over")&&0==$(t.target).hasClass("popover")&&0==$(t.target).parent().hasClass("popover")&&$(".pop-over").popover("hide")});var a=$(".video",t),i=$(".audio",t),s=$(".audioBtn",t),n=$(".audioSlide",t),o=$("._audio-tip",t);function r(t,e,a){"undefined"!=typeof analytics&&(t.addEventListener("pause",function(){var e=Math.floor(100/t.duration*t.currentTime),i=a,s=a+", mediaElement.duration",n="",o="";100==e?(n="Ended",o=100):(n="Paused",o=e),analytics.trigger(i,n,s,o)},!1),t.addEventListener("play",function(){var t=a,e=a+", mediaElement.duration";analytics.trigger(t,"Played",e,"100")},!1),t.addEventListener("seeked",function(){var e=t.currentTime,i=a,s=a+", mediaElement.duration";e>0&&analytics.trigger(i,"Seeked to ",s,"current")},!1),t.addEventListener("error",function(){var e=t.error,i=a,s=a+", mediaElement.duration",n=a+" Error"+e;analytics.trigger(i,n,s,"0")},!1))}"default"!==settings.meSkin&&(a.addClass("mejs-"+settings.meSkin),i.addClass("mejs-cf20"),s.addClass("mejs-cf20"),n.addClass("mejs-cf20")),(a.length>0||i.length>0||s.length>0||n.length>0||o.length>0)&&require(["mediaelement"],function(t){a.length>0&&a.mediaelementplayer({pluginPath:url_fromGlobal+"/swf/",features:["playpause","progress","current","duration","tracks","volume","fullscreen"],success:function(t,e){r(t,0,"Video")}}),i.length>0&&i.mediaelementplayer({pluginPath:url_fromGlobal+"swf/",features:["playpause","progress","duration","volume"],success:function(t,e){r(t,0,"Audio")}}),s.length>0&&s.mediaelementplayer({audioWidth:24,audioHeight:30,features:["playpause"],pluginPath:url_fromGlobal+"swf/",success:function(t,e){r(t,0,"Audio")}}),n.length>0&&(n.mediaelementplayer({audioWidth:220,pauseOtherPlayers:!0,features:["playpause","progress","duration","volume"],pluginPath:url_fromGlobal+"swf/",success:function(t,e){r(t,0,"Audio")}}),$(".audioSlide").hide(),$("._showAudioSlide").fadeIn())}),toolTip(t)}function activateAssets(){$.when(globalBox(document)).then(function(){loadStep.step("globalBox")}),$(".interactive").each(function(){var t=$(this),e=$(this).attr("data-src").split(":"),a=$(this).html(),i=e[0].search(".swiffy"),s=e[0].search(".swf"),n=$(document.createElement("a")).addClass("print").addClass("printText").addClass("btnlink").html('<span class="glyphicon glyphicon-print"></span> '+language.Print),o=$(document.createElement("div")).addClass("swfObject"),r=$(document.createElement("button")).addClass("toggleSwitch btn btn-primary").addClass("hidden-phone").text(language.TextVersion),l=$(document.createElement("div")).addClass("textVersion").addClass("notVisible").append(a).append(n),d=$(document.createElement("iframe")).css({border:0}).attr("src",e[0]).attr("scrolling","no").attr("width",e[1]).attr("height",e[2]);t.wrap('<div class="ooShell"></div>');if(void 0===e[3]){-1,$(this).after(r),$(this).after(l);var c=t.attr("data-textversion");c&&$.ajax({type:"GET",url:c,dataType:"html",error:function(){console.log("textversion didn't load, please check it for errors")},success:function(e){var a=document.createDocumentFragment();$.each($(e),function(t,e){"#text"!==e.nodeName&&"META"!==e.nodeName&&"TITLE"!==e.nodeName&&a.appendChild(e)});var i=t.next(".textVersion");i.append(a),$.when(globalBox(i.parent())).then(function(){loadStep.step("globalBoxInteractives")})}})}else e[3].search("notext");if(-1==s||touchSupport?-1==e[0].search(".htm")&&-1==e[0].search(".html")||($(this).removeClass("interactive").addClass("activeInteractive"),$(this).append(d),$(d).load(function(){})):($(this).removeClass("interactive").addClass("activeInteractive"),$(this).append(o),$(this).children("div.swfObject").flash({swf:e[0],width:e[1],height:e[2],flashvars:e[3]})),-1!=i&&0==$.support.leadingWhitespace){var h=(h=e[0].toString()).replace(h.substring(h.indexOf(".swiffy")),".swf");e[0]=h,s=1}}),$(".checklist").each(function(){var t=$(this);function e(){var e=!1,a=t.attr("data-info"),i=t.attr("data-titles"),s=null!=t.attr("data-lessonNum")&&t.attr("data-lessonNum");null!=a&&null!=i&&(a=a.split("|"),i=i.split("|"),a.length==i.length&&(e=!0));var n,o='<table class="table table-bordered lesson_checklist">';if(e){o+='<thead><tr><th class="text-left thLesson">Lesson</th>';for(var r=0;r<a.length;r++)o+='<th class="text-center thCols_'+r+'">'+i[r]+"</th>";o+="</thead><tbody>"}else o+='<thead><tr><th class="text-left thLesson">Lesson</th><th class="text-center thPoints">Points Possible</th><th class="text-center thTime">Time</th></tr></thead><tbody>';void 0===(n=t.attr("data-module")?parseInt(t.attr("data-module")-1):current_module)&&1==isexternal&&alert('you need to specify the module you want since this is a popup  -  data-module="3"');for(var l=0;l<FLVS.Sitemap.module[n].lesson.length;l++){var d=FLVS.Sitemap.module[n].lesson[l].page.length,c="Points",h="Minutes";1==Number(FLVS.Sitemap.module[n].lesson[l].points)&&(c="Point"),1==Number(FLVS.Sitemap.module[n].lesson[l].time)&&(h="Minute");var u=FLVS.Sitemap.module[n].lesson[l].num,p=FLVS.Sitemap.module[n].lesson[l].title,m=FLVS.Sitemap.module[n].lesson[l].page[0].href,g="true"===s?'<span class="lesson_number">'+u+"</span>":"";if(o+="<tr>",e){1==isexternal?o+='<td class="width40 text-left tdLesson">'+g+" "+p+"</td>":o+='<td class="width40 text-left tdLesson"><a href="../js/'+m+'">'+g+" "+p+"</a></td>";for(var f=0;f<a.length;f++){var $=10*Math.round(60/a.length/10);null!=FLVS.Sitemap.module[n].lesson[l][a[f]]?o+='<td class="width'+$+" text-center thCols_"+f+'">'+FLVS.Sitemap.module[n].lesson[l][a[f]]+"</td>":o+='<td class="width'+$+" text-center thCols_"+f+'">&nbsp;</td>'}}else 1==isexternal?o+='<td class="width60 text-left tdLesson">'+g+" "+p+"</td>":o+='<td class="width60 text-left tdLesson"><a href="../js/'+m+'">'+g+" "+p+"</a></td>",o+='<td class="width20 text-center tdPoints">'+FLVS.Sitemap.module[n].lesson[l].points+" "+c+"</td>",o+='<td class="width20 text-center tdTime">'+FLVS.Sitemap.module[n].lesson[l].time+" "+h+"</td>";o+="</tr>";for(var v=0;v<d;v++)if("true"==FLVS.Sitemap.module[n].lesson[l].page[v].custom){var _=FLVS.Sitemap.module[n].lesson[l].title,b=FLVS.Sitemap.module[n].lesson[l].page[v].href,x=FLVS.Sitemap.module[n].lesson[l].page[v].chklistname,k=FLVS.Sitemap.module[n].lesson[l].page[v].points,y=FLVS.Sitemap.module[n].lesson[l].page[v].time,w=FLVS.Sitemap.module[n].lesson[l].page[v].num;if(null!=x&&(_=x),null!=w&&(g='<span class="lesson_number">'+w+"</span>"),o+="<tr>",e){1==isexternal?o+='<td class="width60 text-left tdLesson">'+g+" "+_+"</td>":o+='<td class="width60 text-left tdLesson"><a href="'+b+'">'+g+" "+_+"</a></td>";for(var S=0;S<a.length;S++){var C=10*Math.round(60/a.length/10);null!=FLVS.Sitemap.module[n].lesson[l].page[v][a[S]]?o+='<td class="width'+C+" text-center thCols_"+f+'">'+FLVS.Sitemap.module[n].lesson[l].page[v][a[S]]+"</td>":o+='<td class="width'+C+" text-center thCols_"+f+'">&nbsp;</td>'}}else 1==isexternal?o+='<td class="width60 text-left tdLesson">'+g+" "+_+"</td>":o+='<td class="width60 text-left tdLesson"><a href="'+b+'">'+g+" "+_+"</a></td>",null!=k?(1==Number(k)?c="Point":Number(k)>1&&(c="Points"),o+='<td class="width20 text-center tdPoints">'+k+" "+c+"</td>"):o+='<td class="width20 text-center tdPoints">&nbsp;</td>',null!=y?(1==Number(y)?h="Minute":Number(y)>1&&(h="Minutes"),o+='<td class="width20 text-center tdTime">'+y+" "+h+"</td>"):o+='<td class="width20 text-center tdTime">&nbsp;</td>';o+="</tr>"}}o+="</tbody></table>",t.html(o)}1==isexternal?loadSitemap(e):e()}),$(".table").each(function(){var t;t=new Array;for(var e=0;e<$(this).find("thead").find("th,td").length;e++)t.push($(this).find("thead").find("th,td").eq(e).html());for(e=0;e<$(this).find("tbody").find("tr").length;e++)for(var a=0;a<$(this).find("tbody").find("tr").eq(e).find("td").length;a++)$(this).find("tbody").find("tr").eq(e).find("td").eq(a).attr("data-title",t[a])}),$("div.htmltext_version").each(function(){var t=$(this),e=$(this).attr("data-src"),a=$(this).find("video"),i=$(this).find("audio"),s=$(this).find(".kaltura");if(s.length>0){if("audio"===s.data("type"))var n=s.data("type");if(void 0===s.data("type")||"videocc"===s.data("type"))var o="video"}var r=$(this).html();$(this).empty(),t.append($(document.createElement("div")).addClass("mainVersion").html(r));var l=$(document.createElement("a")).addClass("print").addClass("printText").addClass("btnlink").html('<span class="glyphicon glyphicon-print"></span> '+language.Print);$.ajax({url:e,type:"GET",dataType:"html",error:function(){alert("Error: Failed to get the text version.")},success:function(e){var s=document.createDocumentFragment();if($.each($(e),function(t,e){"#text"!==e.nodeName&&"META"!==e.nodeName&&"TITLE"!==e.nodeName&&s.appendChild(e)}),a.length||o)t.removeClass("text_version").addClass("videoInteractive"),t.append($(document.createElement("div")).addClass("video_textVersion").addClass("notVisible").append(s).append('<hr class="dashed"/>').append(l)),t.append($(document.createElement("button")).addClass("toggleSwitch ftSwitch btn btn-primary vidText").text(language.TextVersion));else if(i.length||n)t.removeClass("text_version").addClass("audioInteractive"),t.append($(document.createElement("div")).addClass("audio_textVersion").addClass("notVisible").append(s).append('<hr class="dashed"/>').append(l)),t.append($(document.createElement("button")).addClass("toggleSwitch ftSwitch btn btn-primary audText").text(language.TextVersion));else{0!=t.children().first().outerWidth()&&t.children().first().outerWidth();t.append($(document.createElement("div")).addClass("textVersion").addClass("notVisible").append(s).append('<hr class="dashed"/>').append(l)),t.append($(document.createElement("button")).addClass("toggleSwitch btn btn-primary").text(language.TextVersion))}$.when(globalBox(t)).then(function(){loadStep.step("globalBoxTextVersion")})}})});var t={};function e(){$("div.kaltura").each(function(){$.each(t,function(t,e){"playing"===e&&document.getElementById(t).sendNotification("doPause")})})}$("div.kaltura").each(function(){var e={uiconf_id:"33130941",partner_id:"2061901",entry_id:"1_tgvwkgzy",height:"400",width:"640",class:"",type:"",thumb_class:"kWidgetPlayBtn",image_class:"",custom_css:"kaltura.css"};if($(this).data("width")&&"0"!==$(this).data("width"))if("null"===$(this).data("width"))e.width="";else{var a=$(this).data("width");if(a.charAt&&"%"==a.charAt(a.length-1))a=a.substring(0,a.length-1)/100,(a*=i=$(this).parent().width())>i&&(a=i);else a=parseInt(a,10);e.width=a}else $(this).data("type")&&"audio"===$(this).data("type")?e.width="340":$(this).data("type")&&"audiobtn"===$(this).data("type")&&(e.width="30");if($(this).data("height")&&"0"!==$(this).data("height"))if("null"===$(this).data("height"))e.height="";else{var i,s=$(this).data("height");if(s.charAt&&"%"==s.charAt(s.length-1))s=s.substring(0,s.length-1)/100,(s*=i=$(this).parent().height())>i&&(s=i);else s=parseInt(s,10);e.height=s}else $(this).data("type")&&"audio"===$(this).data("type")?e.height="40":$(this).data("type")&&"audiobtn"===$(this).data("type")&&(e.height="30");$(this).attr("id")&&(e.entry_id=$(this).attr("id")),$(this).attr("class")&&(e.class=$(this).attr("class")),$(this).data("uiconfid")&&(e.uiconf_id=$(this).data("uiconfid")),$(this).data("partnerid")&&(e.partner_id=$(this).data("partnerid")),$(this).data("type")&&(e.type=$(this).data("type")),t[e.entry_id]="paused","audio"===e.type?(e.uiconf_id="36511471",e.class="kalturaAudio",e.thumb_class="kWidgetPlayBtn audio",e.image_class="hide",e.custom_css="kaltura_audio.css"):"audiobtn"===e.type?(e.class="kalturaAudioBtn",e.uiconf_id="36582731",e.thumb_class="kWidgetPlayBtn audiobtn",e.image_class="hide",e.custom_css="kaltura_audio.css"):"videocc"===e.type&&(e.uiconf_id="35766781");var n="//cdnapisec.kaltura.com/p/"+e.partner_id+"/sp/"+e.partner_id+"00/embedIframeJs/uiconf_id/"+e.uiconf_id+"/partner_id/"+e.partner_id;$.getScript(n).done(function(a,i){new kWidget.api({wid:"_"+e.partner_id}).doRequest({service:"baseentry",action:"list","filter:objectType":"KalturaBaseEntryFilter","filter:idEqual":e.entry_id},function(a){if(a.objects&&a.objects[0]){a.objects[0];var i={targetId:e.entry_id,wid:"_"+e.partner_id,entry_id:e.entry_id,uiconf_id:e.uiconf_id,height:e.height,width:e.width,captureClickEventForiOS:!0,flashvars:{myCustomPluginName:{plugin:!0,iframeHTML5Css:url_fromGlobal+"/css/"+e.custom_css}},readyCallback:function(a){var i=document.getElementById(a),s=["firstPlay","playerPlayed","playerPaused","preSeek","seek","seeked","openFullScreen","closeFullScreen","volumeChanged","mute","unmute","playerPlayEnd"];if("undefined"!=typeof analytics)for(var n=0;n<s.length;n++)!function(t){i.kBind(s[t],function(a){var i=e.entry_id,n="Kaltura player event triggered: "+s[t]+", event data: "+JSON.stringify(a);analytics.trigger("Kaltura Video",n,i,"100")})}(n);i.kBind("mediaReady",function(){t[a]="playing",i.sendNotification("doPlay"),i.kBind("doPlay",function(e,a){$.each(t,function(a,i){a!==e?(t[a]="paused",document.getElementById(a).sendNotification("doPause")):t[a]="playing"})}),i.kBind("doPause",function(e,a){t[e]="paused"}),$.each(t,function(t,e){t!==a&&document.getElementById(t).sendNotification("doPause")})})}};$("#"+e.entry_id).addClass(e.class).append('<img class="kWidgetCentered '+e.image_class+'" src="'+kWidget.getKalturaThumbUrl(i)+'""><div class="kWidgetCentered '+e.thumb_class+'"></div>').click(function(){kWidget.embed(i)})}else kWidget.log("Error getting entry")})}).fail(function(t,e,a){$("div.log").text("Triggered ajaxError handler for Kaltura.")})}),$("div.kaltura").length&&($(".carousel.slide").on("slid.bs.carousel",function(){e()}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(t){e()}),$('[data-toggle="collapse"]').on("click",function(t){!1===$(this).hasClass("collapsed")&&e()})),$("#side_nav").find("a").tooltip({placement:"right",animation:!1}),$("#top_nav").find("a").tooltip({placement:"bottom",animation:!1}),$(document).on("click",".pop",function(){var t=$(this).attr("href"),e=600,a=700;if($(this).attr("data-height")&&"%"==(e=$(this).attr("data-height")).charAt(e.length-1)){var i=e.substring(0,e.length-1)/100;e=$(window).height()*i}if($(this).attr("data-width")&&"%"==(a=$(this).attr("data-width")).charAt(a.length-1)){var s=a.substring(0,a.length-1)/100;a=$(window).width()*s}var n=-1!=t.indexOf("http://")?"yes":"no";window.open(t,"popUp","toolbar="+n+",location="+n+",directories="+n+", status=yes,menubar="+n+",scrollbars=yes,resizable=yes,width="+a+",height="+e);return!1}),$(".external-link").length>-1&&$(".external-link").each(function(){$(this).attr("target","_blank")}),collapseIcons(document),$(document).on("cbox_complete",function(){var t=$("#cboxTitle").height();if((t>20&&($("#cboxTitle").css({top:-t}),$("#cboxContent").css({"margin-top":t,height:$("#cboxContent").height()+t}),$("#cboxWrapper").css({height:$("#cboxWrapper").height()+t}),$("#colorbox").css({height:$("#colorbox").height()+t})),"ontouchstart"in document)&&window.document.location.href!=window.parent.document.location.href){var e=$("#colorbox").offset().top,a=$("#colorbox").height(),i=$(window.parent.document).scrollTop();e+a>i&&$("#colorbox").css("top",i+50)}})}function toggleVersion(){var t=language.Interactive;if($(this).hasClass("vidText")&&(t=language.Video),$(this).hasClass("audText")&&(t=language.Audio),$(this).text($(this).text()==t?language.TextVersion:t),$(this).parent().children("div.swfObject").length>0)$(this).parent().children("div.swfObject").toggleClass("notVisible");else if($(this).parent().children("iframe").length>0)$(this).parent().children("iframe").toggleClass("notVisible");else{var e=$(this).parent().children(".activeInteractive, .videoInteractive, .audioInteractive, .mainVersion"),a=$(this).parent().children(".textVersion, .video_textVersion, .audio_textVersion");e.toggle("fast",function(){e.is(":visible")?a.addClass("notVisible"):(a.removeClass("notVisible"),collapseIcons(a))})}return $(this).prevAll(".textVersion, .video_textVersion, .audio_textVersion").hasClass("notVisible")||collapseIcons($(this).prevAll(".textVersion")),!1}function PrintPopup(t){var e=window.open("",language.Print,"height=400,width=600");e.document.write("<html><head><title>"+language.Print+"</title>"),e.document.write('<link type="text/css" rel="stylesheet" href="'+url_fromGlobal+'/css/flvs-core.min.css">'),e.document.write('<link type="text/css" rel="stylesheet" href="'+localUrl+'/css/theme.css">'),e.document.write('</head><body id="printBody">'),e.document.write(t),e.document.write("</body></html>"),e.document.close();setTimeout(function(){e.focus(),e.print(),e.close()},800);return!0}function collapseIcons(t){$(".collapse",t).on("shown.bs.collapse",function(){$(this).prev().find("span.glyphicon").toggleClass("glyphicon-circle-arrow-down glyphicon-circle-arrow-up")}),$(".collapse",t).on("hide.bs.collapse",function(){$(this).prev().find("span.glyphicon").toggleClass("glyphicon-circle-arrow-down glyphicon-circle-arrow-up")})}function toolTip(t){var e={animation:!1,placement:"top",trigger:"hover",html:!0};"ontouchstart"in window&&(e.trigger="manual",$("._tip",t).click(function(){$(".dbtip_container").find("span").stop().fadeOut("fast"),$("._audio-tip").tooltip("hide"),$("._tip").not($(this)).tooltip("hide"),$(this,t).tooltip("toggle")})),$("#side_nav a",t).each(function(){var t=e;t.placement="right",$(this).tooltip(t)}),$("#top_nav a",t).each(function(){var t=e;t.placement="bottom",$(this).tooltip(t)}),$("._tip",t).each(function(){var t=e;t.placement=$(this).data("position"),t.placement||($(this).hasClass("tip-bottom")?t.placement="bottom":$(this).hasClass("tip-right")?t.placement="right":$(this).hasClass("tip-left")?t.placement="left":t.placement="top"),$(this).tooltip(t)}),"ontouchstart"in window?$(".dbtip_container",t).on("click",function(){$("._tip").tooltip("hide"),$("._audio-tip").tooltip("hide");$(this).find("a");var t=$(this).find("span");$(t).toggle();var e=$(t).width()/2;$(t).css("left","-"+e+"px")}).off("click",function(){var t=$(this).find("span");$(t).stop().fadeOut("fast")}):$(".dbtip_container",t).hover(function(){var t=$(this).find("span");$(t).fadeIn("fast");var e=$(t).width()/2;$(t).css("left","-"+e+"px")},function(){var t=$(this).find("span");$(t).stop().fadeOut("fast")}),$("._audio-tip",t).each(function(){var t=e;t.trigger="manual",t.placement=$(this).data("position"),$(this).tooltip(t)}),$("._audio-tip",t).on("click",function(){$("._tip").tooltip("hide"),$(".dbtip_container").find("span").stop().fadeOut("fast"),$("._audio-tip").not($(this)).tooltip("hide"),$(this).tooltip("toggle"),$(".tooltip .audioBtn").mediaelementplayer({audioWidth:18,audioHeight:18,features:["playpause"],pluginPath:url_fromGlobal+"swf/"})}),$(document).on("click",function(t){$(t.target).not("._audio-tip").length&&$("._audio-tip").tooltip("hide")})}$(document).on("click",".toggleSwitch",toggleVersion),$(document).on("click",".printText, .printIt",function(){PrintPopup($(this).parent().html())});var touchSupport=is_touch_device(),screen_width=$(window).width(),screen_orient="landscape",device_type="desktop",date=new Date,year=date.getFullYear(),cd=date,next_page,prev_page,home_page=homeFromHere(),total_pages,current_page,current_page_of_module,total_pages_in_module,current_module,current_lesson,current_path,showNext=!0,pagefound=!1,formatTooltips,page_links=[],page_title=[],langCheck=0,translated=!1,default_font_size=16,max_font_size=20,min_font_size=14,current_font_size=16,font_size_incriment=2,pagescript=$("script[data-local='true']").html();function init(){1==isexternal?buildCoursePage(!1):loadSitemap(buildCoursePage)}function buildCoursePage(xml){if(settings.glossary_tooltip&&glossary.readXML(),1!=isexternal){var pvt_url=$(location).attr("href"),pvt_file=pvt_url.toString().match(/.*\/(.+?)\./),pvt_currentpos;pvt_file=pvt_file[1];var root=$(xml).find("sitemap"),module_count=root.find("module").length;root.find("page").each(function(t){var e=$(this).attr("href"),a=e.substr(e.lastIndexOf("/")+1);if(a=a.toString().match(/(.+?)\./),pvt_file==a[1]){pagefound=!0;var i=$(this).parent();pvt_currentpos=t,current_page=i.children("page").index($(this))+1,total_pages=$(this).siblings("page").length+1,current_page_of_module=$(this).index(),current_lesson=$(this).closest("lesson").index(),current_module=$(this).closest("module").index(),current_lesson_count=$(this).closest("module").children("lesson").length,next_page=current_page<total_pages?$(this).next().attr("href"):current_lesson<current_lesson_count-1?$(this).closest("lesson").next().find("page:eq(0)").attr("href"):home_page,prev_page=current_page>1?$(this).prev().attr("href"):current_lesson>0?$(this).closest("lesson").prev().find("page").last().attr("href"):home_page}return!0})}if(pagefound&&1!=isexternal&&("module"==FLVS.settings.show_page_number_by?(total_pages_in_module=getPagesInModule(),total_pages=total_pages_in_module,current_page=current_page_of_module):"lesson"==FLVS.settings.show_page_number_by&&(total_pages_in_module=getPagesInLesson(),total_pages=total_pages_in_module,current_page=current_page)),1!=isexternal){var templates=[],content=$("#pageContent");$("#pageContent").remove(),$("head").append('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">'),$("head").append('<meta charset="utf-8">'),$.ajax({type:"GET",url:localUrl+"/xml/templates.xml",dataType:"xml",success:function(t){var e=0;if(1==isexternal)e=1;else for(var a=0;a<$(t).find("set").length;a++){var i=$(t).find("set").eq(a).attr("orientation"),s=$(t).find("set").eq(a).attr("device");if(touchSupport&&s==device_type&&i==screen_orient){e=a;break}}for(var n=0;n<$(t).find("set").eq(e).find("template").length;n++){var o=$(t).find("set").eq(e).find("template").eq(n).text();templates.push(localUrl+"/templates/layout/"+o)}load_templates()}})}else $("#pageContent").wrap('<div class="external_container">'),exchangeTags();function load_templates(){var t=0;!function e(){$.ajax({type:"GET",url:templates[t],success:function(a){var i=a;$(".wrapper").append(i),(t+=1)==templates.length?exchangeTags():e()}})}(),$("body").append('<div class="wrapper"></div>')}function exchangeTags(){var t="imgs/layout/flvs_logo_color.png";void 0!==settings.flvs_logo_type&&("color"==settings.flvs_logo_type||""==settings.flvs_logo_type?t="imgs/layout/flvs_logo_color.png":"white"==settings.flvs_logo_type?t="imgs/layout/flvs_logo_white.png":"black"==settings.flvs_logo_type&&(t="imgs/layout/flvs_logo_black.png")),$("div[data-tag='page_content']").replaceWith(content),"undefined"!=typeof language&&($("a[data-tag='link_home']").removeAttr("data-tag").addClass("link_home home").attr("href",home_page).attr("title",language.home_link).html("Home"),$("a[data-tag='link_next']").removeAttr("data-tag").addClass("link_next page_next").attr("href",next_page).attr("title",language.next_link),$("a[data-tag='link_prev']").removeAttr("data-tag").addClass("link_prev page_prev").attr("href",prev_page).attr("title",language.prev_link)),$("[data-tag='page_numbers']").replaceWith('<a href="javascript:void(0);" class="pagenum">'+current_page+" of "+total_pages+' ▼</a><div class="progress_meter_popup"><div class="progress_bar"></div></div>');for(var e='<div class="page_links"><span>NAVIGATE TO PAGE:</span>',a=0;a<page_links.length;a++)e+=a+1==current_page?'<a href="'+page_links[a]+'" class="active" title="'+page_title[a]+'">'+(a+1)+"</a>":'<a href="'+page_links[a]+'" title="'+page_title[a]+'">'+(a+1)+"</a>";if(e+='<br class="clear"/></div>',$(".progress_meter_popup").append(e),$(document).find("[data-tag=menu_links]").each(function(){var t='<ul class="'+$(this).attr("class")+'">';show.notes_link&&(t+='<li><a href="'+(""==settings.link_notes?"//cdn.flvs.net/cdn/lo/cornell_notes/":settings.link_notes)+'" class="link_notes pop" title="'+language.nav_notes+'">Notes</a></li>');show.glossary_link&&(t+='<li><a href="../js/'+(""==settings.link_glossary?localUrl+"/glossary.htm":settings.link_glossary)+'" class="'+(touchSupport?"link_glossary pop":"link_glossary modal-pop")+'" title="'+language.nav_glossary+'">Glossary</a></li>');if(t+='<li><a href="javascript:window.print();" class="link_print" title="'+language.nav_print+'">Print</a></li>',show.text_resize_links&&(t+='<li><a href="javascript:resizeText(\'up\');" class="link_textplus" title="'+language.nav_txtsizeplus+'">A+</a></li>',t+='<li><a href="javascript:resizeText(\'reset\');" class="link_textreset" title="'+language.nav_txtsizereset+'">A</a></li>',t+='<li><a href="javascript:resizeText(\'down\');" class="link_textminus" title="'+language.nav_txtsizeminus+'">A-</a></li>'),custom_menu_items.length>0)for(var e=0;e<custom_menu_items.length;e++)custom_menu_items[e][0]&&(t+='<li><a href="'+custom_menu_items[e][1]+'" class="'+custom_menu_items[e][2]+'" title="'+custom_menu_items[e][3]+'">'+custom_menu_items[e][0]+"</a></li>");t+="</ul>",$(this).replaceWith(t)}),$("div[data-tag='course_title']").replaceWith(settings.course_title),$("a[data-tag='course_title']").removeAttr("data-tag").attr("href",home_page).html(settings.course_title),$("[data-tag='page_title']").replaceWith($("title").text()).addClass("page_title"),$(".page_title").html($("title").text()),external.show_flvs_copyright){var i=$("[data-tag='copyright_link']").attr("class");$("[data-tag='copyright_link']").replaceWith('<a href="'+rootSet+'global/copyright.htm" class="'+i+' tip-right modal-pop link_copyright" title="'+language.copyright_title+'">©</a>'),$("#footer_copyright").html("<span>Unless Otherwise Noted All Content © "+year+' Florida Virtual School</span><br><img src="'+url_fromGlobal+"/"+t+'" alt="Florida Virtual School" />'),settings.copyrightinblock&&$(footer_copyright).addClass("block")}if(void 0!==external.version_for_gs&&external.version_for_gs&&(void 0===external.version_for_gs&&""===external.version_num?alert("External version number is set to true, but you have no number set in the version number variable."):$("#footer_copyright").append($(document.createElement("div")).attr("id","version_num").html(external.version_num))),show.bookmarks_link&&($("div[data-tag='bookmarker']").replaceWith($(document.createElement("a")).attr("class","bookmarker").attr("href","javascript:void(0);").html(" ").addClass("tip-bottom")),$("div[data-tag='bookmark_link']").replaceWith($(document.createElement("a")).attr("href","javascript:void(0);").attr("class","link_bookmark").attr("title",language.nav_bookmark).html('<span class="visit_bookmark"></span>'))),$("div[data-tag='flvs_logo']").replaceWith('<img src="'+url_fromGlobal+"/"+t+'" alt="Florida Virtual School" />'),$("div[data-tag='copyright_statement']").replaceWith("<span>Unless Otherwise Noted All Content © "+year+" Florida Virtual School</span>"),$(".undefined").removeClass("undefined"),!0===external.render_for_ca){$(".lang").each(function(){var t=$(this).attr("data-term").split(":"),e=t[0],a=t[1],i=language[e];"uc"==a?$(this).html(i.replace(/^(.)|\s(.)/g,function(t){return t.toUpperCase()})):$(this).html(i.replace(/^(.)|\s(.)/g,function(t){return t.toLowerCase()}))});var s=$("title").text();s=s.replace(/[0-9]/g,""),$("title").text(s),$(".page_title").text(s),$(".lesson_number").remove()}if(!0!==isexternal&&pagefound)!0===show.menu&&!0===settings.default_menu?createMenu():!1===show.menu&&($(".wrapper nav").remove(),$(".wrapper #nav_menu").remove(),$("#menua").remove(),$(".wrapper main").css("margin-top","0")),null==getCookie(settings.course_title+" bookmark")&&$(".link_bookmark, .nav_bookmark").hide(),$(".link_bookmark, .nav_bookmark").length&&$(".link_bookmark, .nav_bookmark").click(function(){null!=getCookie(settings.course_title+" bookmark")&&(window.location.href=getCookie(settings.course_title+" bookmark"))}),showBookmarkActive()?$(".bookmarker").addClass("bookmarkpage_active").attr("title",language.bookmark_active):$(".bookmarker").addClass("bookmarkpage").attr("title",language.bookmark_inactive),$(".bookmarker").click(function(){$(this).hasClass("bookmarkpage_active")?(unbookmarkPage(),$(this).addClass("bookmarkpage").removeClass("bookmarkpage_active").attr("data-original-title",language.bookmark_inactive),$(".link_bookmark,.nav_bookmark").hide()):(bookmarkPage(),$(this).addClass("bookmarkpage_active").removeClass("bookmarkpage").attr("data-original-title",language.bookmark_active),$(".link_bookmark, .nav_bookmark").show())});else if($("#footer").remove(),$("#menua").remove(),$("#nav_menu").remove(),$(".copyright_link").remove(),$(".link_bookmark").remove(),$(".bookmarker").remove(),"undefined"!=typeof template_defs&&template_defs.length>0)for(a=0;a<template_defs.length;a++)$("."+template_defs[a]).remove();completeParsing(pageLoaded)}function completeParsing(callback){if(pagefound&&!touchSupport&&1!=typeof isexternal&&$(document).keyup(function(t){if(pagefound){37==t.keyCode?window.location.href=prev_page:$(".page_next").length>0&&39==t.keyCode&&(window.location.href=next_page)}}),0==isexternal&&!0===settings.default_menu&&($(".menubtn, .menubtn_mobile").click(function(){$(".nav_menu_lessons").hide(),$("#menu").is(":visible")?($("#nav_menu").fadeToggle("fast"),$(".menu_backdrop").remove()):($("#nav_menu").fadeToggle("fast"),$("body").append('<div class="menu_backdrop">&nbsp;</div>'),$(".menu_backdrop, .nav_menu_lessons").click(function(){$(".menu_backdrop").remove(),$("#nav_menu").fadeToggle("fast")})),$(".nav_menu_modules a:first").focus()}),$(".modlink").click(function(){$(".nav_menu_lessons").hide(),$(this).next().stop().fadeIn("fast")})),0==isexternal&&($(".breadcrumbs_course").html(FLVS.settings.course_title),$(".breadcrumbs_module").html(FLVS.Sitemap.module[current_module].title),FLVS.Sitemap.module[current_module].num&&$(".breadcrumbs_module_num").html(FLVS.Sitemap.module[current_module].num),$(".breadcrumbs_lesson").html(FLVS.Sitemap.module[current_module].lesson[current_lesson].title),$(".breadcrumbs_lesson_num").html(FLVS.Sitemap.module[current_module].lesson[current_lesson].num)),1==isexternal&&($("body").css("background-image","none"),$("body").css("background-color","#ffffff")),$(".row").find("div").last().css("margin-right","0px"),$(".print").each(function(){$(this).addClass("btnlink"),$(this).prepend('<span class="glyphicon glyphicon-print"></span> ')}),$(".save").each(function(){$(this).addClass("btnlink"),$(this).prepend('<span class="glyphicon glyphicon-file"></span> ')}),$(".page-close").each(function(){$(this).addClass("btnlink"),$(this).prepend('<span class="glyphicon glyphicon-remove"></span> ')}),$(".external-link").each(function(){$(this).addClass("btnlink"),$(this).prepend('<span class="glyphicon glyphicon-share"></span>  ')}),$(".mp3-link").each(function(){$(this).addClass("btnlink"),$(this).prepend('<span class="glyphicon glyphicon-headphones"></span> ')}),$("div.well[data-bg]").each(function(){var t=$(this).attr("data-bg").split(":");$(this).attr("style","background-image:url("+t[0]+")"),null!=t[1]&&null!=t[2]?$(this).css("background-position",t[1]+" "+t[2]):$(this).css("background-position","top left"),null!=t[3]?$(this).css("background-repeat",t[3]):$(this).css("background-repeat","no-repeat")}),$(".printArea").each(function(){var t=$(document.createElement("a")).attr("href","javascript:void(0);").attr("class","print printText btnlink").html('<span class="glyphicon glyphicon-print"></span> '+language.Print);$(this).append(t)}),$("div.icon").each(function(){var t=$(this).attr("data-alt")?$(this).attr("data-alt"):" ",e=$(document.createElement("img")).attr("src",url_fromGlobal+"/imgs/icons/"+$(this).attr("data-icon")+".png");$(this).html('<img src="'+url_fromGlobal+"/imgs/icons/"+$(this).attr("data-icon")+'.png" alt="'+t+'" />'),$(e).width()>64&&($(e).width(64),$(e).height(64))}),$("div.icon_local").each(function(){var t=$(this).attr("data-alt")?$(this).attr("data-alt"):" ",e=$(document.createElement("img")).attr("src","../../global/images/icons/"+$(this).attr("data-icon")+".png");$(this).html('<img src="'+localUrl+"/images/icons/"+$(this).attr("data-icon")+'.png" alt="'+t+'" />'),$(e).width()>64&&($(e).width(64),$(e).height(64))}),$("div.assignment,div.overview,div.objective,div.infobox").each(function(){$(this).find("div.icon").css("position","absolute").css("top","-10px").css("left","0px"),$(this).find("div.icon_local").css("position","absolute").css("top","-10px").css("left","0px")}),$("div.shout[data-icon]").each(function(){$(this).prepend('<div class="icon"><img src="'+url_fromGlobal+"/imgs/icons/"+$(this).attr("data-icon")+'.png" /></div>')}),$("img").each(function(){if($(this).attr("class")&&!$(this).hasClass("quote_image")&&!$(this).hasClass("skipimg")){var t=$(document.createElement("div"));$(this);if($(this).after(t),$(this).appendTo(t),$(t).addClass("image-container"),null!=$(this).attr("data-width")){var e=$(this).attr("data-width");if("%"==e.charAt(e.length-1)){e=e.substring(0,e.length-1)/100;var a=$(this).parent().width();(e*=a)>a&&(e=a)}else e=parseInt($(this).attr("data-width"),10);$(t).css("max-width",e)}else{var i=$(this).width();i>0&&$(t).css("max-width",i)}if($(this).hasClass("showcase")&&($(t).addClass("showcase"),$(this).removeClass("showcase")),($(this).hasClass("border")||$(this).hasClass("frame"))&&($(this).hasClass("border")?($(this).removeClass("border"),$(t).addClass("border")):$(this).hasClass("frame")&&($(this).removeClass("frame"),$(t).addClass("frame"))),$(this).hasClass("pull-left")&&($(this).removeClass("pull-left"),$(t).addClass("pull-left")),$(this).hasClass("pull-right")&&($(this).removeClass("pull-right"),$(t).addClass("pull-right")),$(this).hasClass("top-flush")&&($(this).removeClass("top-flush"),$(t).addClass("top-flush")),void 0!==$(this).attr("data-caption")&&$(t).append('<span class="caption">'+$(this).attr("data-caption")+"</span>"),void 0!==$(this).attr("data-copyright")&&$(t).append('<span class="copyright">'+$(this).attr("data-copyright")+"</span>"),void 0!==$(this).attr("data-text")){var s=$(this).attr("data-mWidth")||"80%",n=$(this).attr("data-mHeight")||"80%";0!=$(t).find("span.copyright").length?touchSupport?$(t).find("span.copyright").append(' <a href="'+$(this).attr("data-text")+'" class="modal-pop dlink" title="'+language.TextVersion+'" data-mWidth="'+s+'" data-mHeight="'+n+'"><span class="glyphicon glyphicon-share"></span></a>'):$(t).find("span.copyright").append(' <a href="'+$(this).attr("data-text")+'" class="modal-pop tip-right dlink" title="'+language.TextVersion+'" data-mWidth="'+s+'" data-mHeight="'+n+'"><span class="glyphicon glyphicon-share"></a>'):$(t).append('<a href="'+$(this).attr("data-text")+'" class="modal-pop dlink" title="'+language.TextVersion+'" data-mWidth="'+s+'" data-mHeight="'+n+'"><span class="glyphicon glyphicon-share"></a>')}if($(this).hasClass("lightbox")){var o="",r="";void 0!==$(this).attr("data-caption")&&(o=$(this).attr("data-caption")),void 0!==$(this).attr("data-copyright")&&(o=""==o?$(this).attr("data-copyright"):o+" | "+$(this).attr("data-copyright")),void 0!==$(this).attr("data-lightBoxText")&&(o=""==o?$(this).attr("data-lightBoxText"):o+" | "+$(this).attr("data-lightBoxText")),void 0!==$(this).attr("data-maxWidth")&&(l=$(this).attr("data-maxWidth"));var l=l=void 0!==$(this).attr("data-maxWidth")?$(this).attr("data-maxWidth"):"";r=r=void 0!==$(this).attr("data-maxHeight")?$(this).attr("data-maxHeight"):"";$(this).removeAttr("data-caption").removeAttr("data-copyright").removeAttr("data-lightBoxText").removeAttr("data-maxWidth").removeAttr("data-maxHeight");var d=$(document.createElement("a")).attr("href",$(this).attr("data-link")).addClass("lightbox").attr("title",o).attr("data-maxWidth",l).attr("data-maxHeight",r);$(t).prepend(d),$(this).removeClass("lightbox"),$(this).appendTo(d);var c=$(document.createElement("a")).attr("class","enlarge").attr("href",$(this).attr("data-link")).addClass("lightbox").attr("title",o).attr("data-maxWidth",l).attr("data-maxHeight",r);$(t).append(c)}if($(this).hasClass("gallery")){o="";null!=$(this).attr("data-caption")&&(o=$(this).attr("data-caption")),null!=$(this).attr("data-copyright")&&(o=""==o?$(this).attr("data-copyright"):o+" | "+$(this).attr("data-copyright")),null!=$(this).attr("data-lightBoxText")&&(o=""==o?$(this).attr("data-lightBoxText"):o+" | "+$(this).attr("data-lightBoxText"));l=l=null!=$(this).attr("data-maxWidth")?$(this).attr("data-maxWidth"):"",r=r=null!=$(this).attr("data-maxHeight")?$(this).attr("data-maxHeight"):"";$(this).removeAttr("data-caption").removeAttr("data-copyright").removeAttr("data-lightBoxText").removeAttr("data-maxWidth").removeAttr("data-maxHeight");d=$(document.createElement("a")).attr("href",$(this).attr("data-link")).attr("rel",$(this).attr("data-group")).addClass("gallery").attr("title",o).attr("data-maxWidth",l).attr("data-maxHeight",r);$(t).prepend(d),$(this).appendTo(d);c=$(document.createElement("a")).attr("class","enlarge").attr("href",$(this).attr("data-link")).addClass("lightbox").attr("title",o).attr("data-maxWidth",l).attr("data-maxHeight",r);$(t).append(c),$(this).removeClass("gallery")}var h=$(this).attr("class");$(t).addClass(h)}}),show.progress_bar?($(".progress_bar").each(function(){var t=$(this).width();t>"500"&&(t="300"),determine_progress($(this),t)}),$(".pagenum").click(function(){$(".progress_meter_popup").stop().fadeToggle("fast"),$(".progress_meter_popup a.active").focus()}),$(window).click(function(t){!$(".pagenum").is(t.target)&&$(".progress_meter_popup").is(":visible")&&$(".progress_meter_popup").stop().fadeToggle("fast")})):$("a.pagenum").replaceWith('<p class="pagenum">'+current_page+" of "+total_pages+" </p>"),$(".video").each(function(){var t=$(this).attr("width"),e=$(this).attr("height");void 0===t&&(t="100%",$(this).css("width",t)),void 0===e&&(e="100%",$(this).css("height",e)),$(this).wrap("<div class='video_container' style='width: 100%; height:100%; max-width: "+t+"px; max-height: "+e+"px'></div>"),$(this).css({width:"99%",height:"99%"}),$("<div class='clear'></div>").appendTo(".video_container")}),$(".audio").each(function(){$(this).wrap("<div class='audio_container' style='width: 100%; height:100%; '></div>"),$(this).css({width:"99%",height:"99%"})}),$(".show_mobile").each(function(){touchSupport?$(this).show():$(this).hide()}),$(".hide_mobile").each(function(){touchSupport?$(this).hide():$(this).show()}),settings.glossary_tooltip&&glossary.init(),0==isexternal&&show.objectives&&objectives.init(),welcomeFolder.init(),settings.g_translate&&gTranslate.init(),settings.gifAnim&&gifAnim.init(),tagit.init(),$.when(activateAssets()).then(function(){loadStep.step("activateAssets")}),!0===FLVS.settings.isAndroid){var android_fix=""!=settings.layout_fixed_css?","+settings.layout_fixed_css:"";$("#headbar, #side_nav, #menu, #menua, #nav_menu, #popup, #overlay"+android_fix).css({position:"absolute"})}eval(pagescript),$("body").css("visibility","visible").hide(),$("body").fadeIn(500,function(){if(1!=isexternal&&0!=show.menu){var t=$("#menu_inner").offset();$("#nav_menu").css("left",t.left+"px"),$(window).on("resize",function(){var t=$("#menu_inner").offset();$("#nav_menu").css("left",t.left+"px")})}}),callback()}}function cleanURL(t,e){var a=t.indexOf(e);return a>0?t.substr(0,t.length-(t.length-a)):t}function is_touch_device(){return!!("ontouchstart"in window)}function is_in_frame(){var t=window.document.location.href,e=new RegExp("//develop.flvs.net/Collaborate/Course/_template/v"+CFVersion+"/cheatsheet/.*.htm");if(t!=t.match(e))return t!=window.parent.document.location.href}function resizeText(t){"up"==t?current_font_size+font_size_incriment<=max_font_size&&($("p").css("font-size",current_font_size+font_size_incriment+"px"),$("p").css("line-height",current_font_size+4+"px"),current_font_size+=font_size_incriment):"down"==t?current_font_size-font_size_incriment>=min_font_size&&($("p").css("font-size",current_font_size-font_size_incriment+"px"),$("p").css("line_height",current_font_size-4+"px"),current_font_size-=font_size_incriment):"reset"==t&&($("p").css("font-size",default_font_size+"px"),$("p").css("line-height",default_font_size+4+"px"),current_font_size=default_font_size)}function areCookiesEnabled(){var t=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||t||(document.cookie="testcookie",t=-1!=document.cookie.indexOf("testcookie")),t}function setCookie(t,e,a,i){if(a){var s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3);var n="; expires="+s.toGMTString()}else n="";document.cookie=i?t+"="+e+n+"; domain="+i+"; path=/":t+"="+e+n+"; path=/"}function getCookie(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var s=a[i];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return null}function deleteCookie(t,e){setCookie(t,"",-1,e)}function bookmarkPage(){var t=window.location.href;null!=getCookie(settings.course_title+" bookmark")?setCookie(settings.course_title+" bookmark",t,30):(deleteCookie(settings.course_title+" bookmark"),setCookie(settings.course_title+" bookmark",t,30))}function unbookmarkPage(){deleteCookie(settings.course_title+" bookmark")}function showBookmarkActive(){var t=window.location.href;return null!=getCookie(settings.course_title+" bookmark")&&getCookie(settings.course_title+" bookmark")==t}function resetNav(){$("#sidemenu .backbtn").removeClass("active"),$("#sidemenu_current").empty(),$("#sidemenu_list a").removeAttr("class"),$("ul.modules").css({top:"0"}).children().children("a").addClass("active"),$("#sidemenu_scroll").css({height:31*$("ul.modules").children().length+"px"}),$("#sidemenu").css({height:31*($("ul.modules").children().length+1)+"px"})}function getDeviceInfo(){screen_orient=$(window).width()>$(window).height()?"landscape":"portrait";var t=window.innerWidth?window.innerWidth:$(window).width(),e=window.innerHeight?window.innerHeight:$(window).height();device_type=t>=979&&e>=600?"tablet":"phone"}function getPagesInModule(){var t=(n=$(location).attr("href")).substr(n.lastIndexOf("/")+1);t=(t=t.toString().match(/(.+?)\./))[1];for(var e=0,a=FLVS.Sitemap.module[current_module].lesson,i=0;i<a.length;i++)for(var s=0;s<a[i].page.length;s++){e+=1,page_links.push(a[i].page[s].href),page_title.push(a[i].page[s].title);var n,o=(n=a[i].page[s].href).substr(n.lastIndexOf("/")+1);t==(o=(o=o.toString().match(/(.+?)\./))[1])&&(current_page_of_module=e)}return e}function getPagesInLesson(){var t=cleanURL(s=$(location).attr("href"),"#");t.substr(t.lastIndexOf("/")+1),t=(t=t.toString().match(/(.+?)\./))[1];for(var e=0,a=FLVS.Sitemap.module[current_module].lesson[current_lesson],i=0;i<a.page.length;i++){e+=1,page_links.push(a.page[i].href),page_title.push(a.page[i].title);var s,n=(s=a.page[i].href).substr(s.lastIndexOf("/")+1);t==(n=(n=n.toString().match(/(.+?)\./))[1])&&(current_page_of_module=e)}return e}function determine_progress(t,e){var a=cleanURL(c=$(location).attr("href"),"#");a=(a=(a=a.substr(a.lastIndexOf("/")+1)).toString().match(/(.+?)\./))[1];for(var i=0,s=0,n=[],o=FLVS.Sitemap.module[current_module].lesson,r=0;r<o.length;r++){for(var l=0,d=0;d<o[r].page.length;d++){i+=1,page_links.push(o[r].page[d].href),page_title.push(o[r].page[d].title),l+=1;var c,h=(c=o[r].page[d].href).substr(c.lastIndexOf("/")+1);a==(h=(h=h.toString().match(/(.+?)\./))[1])&&(s=i)}n.push([l,language.lesson_name+" "+pad(r)])}for(var u=$(document.createElement("div")).addClass("you_are_here").html('Current Progress<div class="arrow"></div>'),p=$(document.createElement("div")).addClass("bar"),m=$(document.createElement("div")).addClass("progression"),g=0,f=0;f<n.length;f++){var v=n[f][0]/i;v=Math.round(v*e)-1;var _=$(document.createElement("div")).addClass("bar_segment").attr("style","width:"+v+"px");s>(g+=n[f][0])?$(_).addClass("complete"):s<g&&s>g-n[f][0]&&$(_).addClass("inprogress");var b=FLVS.Sitemap.module[current_module].lessonNumStart,x=f+parseInt(b);lessonTitleBar=void 0!==b?0==f?"Lesson 0"+b:"Lesson 0"+x:n[f][1],v>20&&v<100?$(_).html(lessonTitleBar):v>100&&$(_).html("<span>"+lessonTitleBar+" - "+n[f][0]+" Pages</span>"),$(_).appendTo(p)}var k=Math.round(s/i*100);$(u).appendTo(t),$(p).appendTo(t),$(m).appendTo(t);var y=$(document.createElement("div")).attr("style","width:"+e+"px").addClass("progressbar_title").html("Current Module Progress");$(y).insertAfter(t),$(u).html(k+'%<div class="arrow"></div>'),$(u).css("left",k+"%"),$(m).css("width",k+"%")}function pad(t){for(var e=t+"";e.length<2;)e="0"+e;return e}function createMenu(){var t='<div id="menu">';t+='<ul class="nav_menu_modules">';for(var e=0;e<FLVS.Sitemap.module.length;e++){var a=FLVS.Sitemap.module[e].num?FLVS.Sitemap.module[e].num:"";if(""!==a)var i=["",a,"Module "+a];else i=["","",""];if("true"==FLVS.Sitemap.module[e].visible||getCookie(settings.course_title+" preview")){t+="<li>",t+='<a href="javascript:void(0);" class="modlink"><span class="modlinkModule">'+i[settings.moduleFormatMenu||"0"]+"</span> "+FLVS.Sitemap.module[e].title+"</a>",t+='<ul class="nav_menu_lessons mod'+(e+1)+'">';for(var s="",n=0;n<FLVS.Sitemap.module[e].lesson.length;n++){var o=FLVS.Sitemap.module[e].lesson[n].page[0].href,r=FLVS.Sitemap.module[e].lesson[n].title,l=FLVS.Sitemap.module[e].lesson[n].num,d=FLVS.Sitemap.module[e].lesson[n].time,c=FLVS.Sitemap.module[e].lesson[n].points;s+="<li>";var h=$("main").css("width");s+=h>"760px"?0==n||2==n||4==n||6==n||8==n||10==n||12==n||14==n||16==n||18==n||20==n||22==n?'<a href="'+o+'"><span class="lesson_num">'+l+"</span>":'<a href="'+o+'" class="odd"><span class="lesson_num">'+l+"</span>":h>"500px"?0==n||2==n||5==n||7==n||8==n||10==n||13==n||15==n||16==n||18==n||21==n||23==n?'<a href="'+o+'"><span class="lesson_num">'+l+"</span>":'<a href="'+o+'" class="odd"><span class="lesson_num">'+l+"</span>":n%2==0?'<a href="'+o+'"><span class="lesson_num">'+l+"</span>":'<a href="'+o+'" class="odd"><span class="lesson_num">'+l+"</span>";var u="mins";Number(FLVS.Sitemap.module[e].lesson[n].time)<2&&(u="min");var p="pts";Number(FLVS.Sitemap.module[e].lesson[n].points)<2&&(p="pt"),s+='<span class="lesson_title">'+r+'</span><span class="lesson_nfo">'+d+" "+u+" | "+c+" "+p+"</span></a>",s+="</li>"}t+=s,t+="</ul>",t+="</li>"}}t+="</ul></div>",$("#nav_menu").append(t),$(".nav_menu_lessons .modlink").remove()}function loadSitemap(t,e){"undefined"!==settings.sitemap_dir&&null!==settings.sitemap_dir||(settings.sitemap_dir="global/xml/sitemap.xml");var a=void 0===e?"xml":e;$.ajax({url:rootSet+settings.sitemap_dir,processData:!1,dataType:a,error:function(){alert("Error: Failed to Load "+a+". Please make sure that the sitemap exists.")},beforeSend:function(){},success:[function(t){try{FLVS.Sitemap=$.xml2json(t,!0)}catch(t){}},t]})}function homeFromHere(){var t="";return t=(t=getCookie(settings.course_title+" preview")?"../index_preview.htm":settings.course_home).substr(t.lastIndexOf("/")+1),rootSet+t}function jQMath_Reparse(t){$(document.body).find(".math").length>0&&jqMath.parseMath(document.body)}function addClassML(t,e){if("object"==typeof t&&"string"===e&&e.length>0){var a,i=0;for(newClass=e.split(","),a=0;a<newClass.length;a++){var s=$(t).attr("class");"string"==typeof s&&s>0?-1==s.indexOf(" "+newClass[a]+" ")&&($(t).attr("class",s+=" "+newClass[a]),i++):$(t).attr("class",newClass[a])}return i}return-1}function afterMathParse(){"td.fm-mtd:has(.red.math-sum)"===$("td.fm-mtd:has(.red.math-sum)").selector&&$("td.fm-mtd:has(.red.math-sum)").addClass("redunderline"),"td.fm-mtd:has(.red.math-sum-row)"===$("td.fm-mtd:has(.red.math-sum-row)").selector&&$("td.fm-mtd:has(.red.math-sum-row)").parent().addClass("redunderline"),"td.fm-mtd.mrow:has(.red.math-sum-row)"===$("td.fm-mtd.mrow:has(.red.math-sum-row)").selector&&$("td.fm-mtd:has(.red.math-sum-row)").parent().addClass("redunderline"),"mtd:has(.red.math-sum)"===$("mtd:has(.red.math-sum)").selector&&$("mtd:has(.red.math-sum)").addClass("redunderline")," "!=$("mtd:has(.red.math-sum-row)")&&addClassML($("mtd:has(.red.math-sum-row)").parent(),"redunderline")," "!=$("mtd:has(.red.math-sum)")&&addClassML($("mtd:has(.red.math-sum)").parent(),"redunderline")}function alphaNumeric(){return Math.random().toString(36).replace("0.","")}$("script[data-local='true']").remove(),Array.indexOf||(Array.prototype.indexOf=function(t,e){for(var a=e||0;a<this.length;a++)if(this[a]==t)return a;return-1});var unlockPage={init:function(t){unlockPage.process(t)},process:function(t){if(console.log("Unlock is running for: "+t),gsLTI.custom_tpl&&gsLTI.custom_tpl.indexOf("maln_false")>=0){console.log("adding unlock class");["lesson_number","lesson_num","breadcrumbs_lesson_num","breadcrumbs_module_num","mnumber","nav_num"].forEach(function(t){$("."+t).addClass("unlock").removeClass(t)})}if(gsLTI.custom_res){console.log("adding custom_res");for(var e=JSON.parse(gsLTI.custom_res),a=0;a<e.length;a++)loadCss(e[a])}}},gWords,glossary={init:function(){sessionStorage?sessionStorage.getItem("glossaryWords")?(gWords=JSON.parse(sessionStorage.getItem("glossaryWords")),glossary.setup()):console.log("There is no session data for 'glossaryWords'"):console.log("There is no session data ")},readXML:function(){$.ajax({type:"GET",url:rootSet+"global/xml/glossary.xml",dataType:"xml",success:function(t){try{var e=$.xml2json(t,!0)}catch(t){}var a=new Object;if(e.item){for(var i=0;i<e.item.length;i++)a[i+1]={term:e.item[i].term.toLowerCase(),definition:e.item[i].text};sessionStorage&&sessionStorage.setItem("glossaryWords",JSON.stringify(a))}else console.log("you have nothing in your glossary XML, glossary automation will not work.")},error:function(t,e,a){console.log("Request Failed for the glossary XML file: "+a)}})},setup:function(){$("span.glossary").length>0&&$("span.glossary").each(function(){var t={parent:$(this).html(),term:$(this).html(),title:"",term_title:!1,position:"top",trigger:"click",classes:"",html:!1,container:""};if($(this).data("title")&&(t.title=$(this).data("title")),$(this).data("term")&&(t.term=$(this).data("term")),$(this).data("termTitle")&&(t.term_title=$(this).data("termTitle")),$(this).data("position")&&(t.position=$(this).data("position")),$(this).data("trigger")&&(t.trigger=$(this).data("trigger")),$(this).className&&(t.classes=$(this).className),$(this).data("html")&&(t.term_title=$(this).data("html")),$(this).data("container")&&(t.container=$(this).data("container")),t.term){var e=glossary.populate(t);e&&($(this).after(e),$(this).remove())}else console.log("you have no term set up in your vocabulary ")})},populate:function(t){var e;return $.each(gWords,function(a,i){if(gWords[a].term===t.term.toLowerCase()||gWords[a].term===t.term){var s=gWords[a].definition,n=t.parent;(gWords[a].definition.indexOf("<")>=0||t.title.indexOf("<")>=0)&&(t.html=!0,s=(s=s.replace("images/","../../global/images/")).replace(/"/g,"'")),""!==t.title&&(n=t.title),1==t.term_title&&(n=gWords[a].term),e='<a href="javascript:void(0);" id="gt_'+a+'" class="pop-over '+t.classes+'"  data-original-title="'+((o=n).charAt(0).toUpperCase()+o.slice(1))+'" data-content="'+s+'" data-placement="'+t.position+'" data-trigger="'+t.trigger+'" data-html="'+t.html+'" data-container="'+t.container+'">'+t.parent+"</a>"}var o}),e||console.log("I could not find: "+t.term),e}},wFolder,welcomeFolder={init:function(){welcomeFolder.readXML()},readXML:function(){$.getJSON("//cdn.flvs.net/cdn/welcome_folder/welcome.json").done(function(t){wFolder=t,welcomeFolder.setup()}).fail(function(t,e,a){var i=e+", "+a;console.log("Request Failed: "+i)})},setup:function(){$(".welcomePage").length>0&&$(".welcomePage").each(function(){var t=$(this).data("id"),e=this.className,a=welcomeFolder.populate(t,e);a&&($(this).after(a),$(this).remove(),globalBox($("#welcome_"+t)))})},populate:function(t,e){var a=$.grep(wFolder.pages,function(e){return e.id==t})[0],i="";return a&&(i='<div id="welcome_'+t+'"><h2>'+a.title+"</h2>"+a.text+"</div>"),i}},oData,objectives={init:function(){var t="objectives";gsLTI.custom_tpl&&tplObj.state?$.getJSON(rootSet+"global/data/objectives_"+tplObj.state+".json").done(function(){t=t+"_"+tplObj.state,objectives.readXML(t)}).fail(function(){console.log("An objectives file doesn't exsist for: "+tplObj.state),objectives.readXML(t)}):objectives.readXML(t)},readXML:function(t){$.getJSON(rootSet+"global/data/"+t+".json").done(function(t){oData=t,objectives.setup()}).fail(function(t,e,a){var i=e+", "+a;console.log("Request Failed: "+i)})},setup:function(){var t=FLVS.Sitemap.module[current_module].mID,e=FLVS.Sitemap.module[current_module].lesson[current_lesson].num;if(t)if(e){var a=oData.objectives,i=$.grep(a,function(e){return e.mID===t})[0];if(i)var s=i.lessons,n=$.grep(s,function(t){return t.lessID===e})[0];if(n){var o=$("<li/>").html($("<a />").attr({href:"",id:"objLink",class:"show_objectives",title:"Objectives for this lesson","data-toggle":"modal","data-target":"#objective-modal"}).html("Objectives"));$("#nav_menu, #menu_inner").find(".menu_links").append(o),objectives.build(n)}else console.log("This lesson has no objectives.")}else console.log("your lesson has no num, this is needed to use objectives.");else console.log("your module has no mID, this is needed to use objectives.")},build:function(t){if(t.items){t.title||(console.log("This lesson objective does not have a title."),t.title='<span class="alert alert-danger">Please add a Title</span><br>');var e="";t.items.forEach(function(t,a){t?e+="<li>"+t+"</li>":(console.log("This lesson has an empty objective item."),e+='<li><span class="bg-danger">This item '+ ++a+" is empty</span></li>")});var a=$('<div id="objective-modal" class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Objectives</h4></div><div class="modal-body"><p>'+t.title+"</p><ul>"+e+'</ul></div><div class="modal-footer"><button class="btn btn-default" data-dismiss="modal">Ok</button></div></div></div></div>');$("main").append(a),$("#objective-modal").on("shown.bs.modal",function(t){$("#objLink").css("pointer-events","none")}),$("#objective-modal").on("hide.bs.modal",function(t){$("#objLink").css("pointer-events","auto")})}else console.log("This lesson doesn't have objective items"),$("#objLink").hide()}},navUA={capture:function(){$(".link_next").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),a=next_page.replace(/\.\.\//g,""),i=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Next Page:"+a;analytics.trigger("Navigational Elements","Next Page Link Selected",i,"100"),window.location.href=e}),$("a.menubtn").on("click",function(t){t.preventDefault();var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Button";analytics.trigger("Navigational Elements","Menu Selected",e,"100")}),$(".link_prev").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),a=(prev_page.replace(/\.\.\//g,""),FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Prev Page:"+prev_page);analytics.trigger("Navigational Elements","Previous Page Link Selected",a,"100"),window.location.href=e}),$(".link_home").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),a=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Home Button";analytics.trigger("Navigational Elements","Home Selected",a,"100"),window.location.href=e}),$(".link_glossary.modal-pop").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Glossary";analytics.trigger("Navigational Elements","Glossary Button Selected",e,"100")}),$(".link_notes.pop").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Cornell Notes";analytics.trigger("Navigational Elements","Cornell Notes Opened",e,"100")}),$(".link_print").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Print";analytics.trigger("Navigational Elements","Print Button Selected",e,"100")}),$(".bookmarker").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Book Mark";analytics.trigger("Navigational Elements","Book Mark Selected",e,"100")}),$(".pagenum").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Progress Bar";analytics.trigger("Navigational Elements","Progress Bar Selected",e,"100")}),$("div.page_links > a").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Progress Bar Link: "+$(this).text();analytics.trigger("Navigational Elements","Progress Bar Link Selected",e,"100")}),$("a.show_objective").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Objectives";analytics.trigger("Navigational Elements","Objectives Selected",e,"100")}),$("a.link_checklist").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Checklist";analytics.trigger("Navigational Elements","Checklist Button Selected",e,"100")}),$(".link_resources").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Resources";analytics.trigger("Navigational Elements","Resources Button Selected",e,"100")}),$(".show_toolbox").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Toolbox";analytics.trigger("Navigational Elements","Toolbox Button Selected",e,"100")}),$("a#link_1.mod_link").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Toolbox Item";analytics.trigger("Navigational Elements","Toolbox Item Selected",e,"100")}),$("a.link_toolkit").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Toolkit";analytics.trigger("Navigational Elements","Toolkit Selected",e,"100")}),$(".bookmarker").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Bookmarker";analytics.trigger("Navigational Elements","Bookmarker Selected",e,"100")}),$("#clicktospeakParent").on("click",function(t){var e=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+" Menu Click to Speak";analytics.trigger("Navigational Elements","Click to Speak Selected",e,"100")})}},gTranslate={init:function(){getCookie("googtrans")&&$(".wrapper").addClass("g_translate");window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)?$(".wrapper").append('<div class="modal fade" id="gt_confirm_ie" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-body">Please use the Google Footer below to turn off translate.<br><br><span class="notranslate">Please use the Google Footer below to turn off translate.</span></div><div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Close / <span class="notranslate">Close</span></button></div></div></div></div>').attr("id","gt_wrapper_id"):$(".wrapper").append('<div class="modal fade" id="gt_confirm_off" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-body">Are you sure you want to turn off translate? <br><br><span class="notranslate">Are you sure you want to turn off translate?</span></div><div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">No / <span class="notranslate">No</span> </button> <button type="button" class="btn btn-primary" id="modalConfirm" data-dismiss="modal">Yes / <span class="notranslate">Yes</span></button> </div></div></div></div>').attr("id","gt_wrapper_id"),setTimeout(function(){if("undefined"!=typeof analytics&&getCookie("googtrans")&&1!=isexternal){var t=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+"Translate";analytics.trigger("Google Translation","Translate is on - page refresh/change",t,"100")}},3e3),gTranslate.setup()},setup:function(){require(["//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"],function(){$(".menu_links").append('<li><div class="custom-translate" id="google_translate_element"></div></li>'),$("head").append("<script type=\"text/javascript\">function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'es',layout: google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay: false},'google_translate_element');}<\/script>"),gTranslate.watch()})},watch:function(){if(1!=isexternal){var t=document.getElementsByTagName("html")[0];new MutationObserver(function(t){t.forEach(function(t){"attributes"==t.type&&"class"===t.attributeName&&($("html").hasClass("translated-ltr")?(translated=!0,gTranslate.process(translated)):(translated=!1,gTranslate.process(translated)))})}).observe(t,{attributes:!0,childList:!1,subtree:!1}),$(".custom-translate").on("click",function(){if($("html").hasClass("translated-ltr")){$("iframe.goog-te-menu-frame.skiptranslate").first().hide(),window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)?$(".custom-translate").attr("data-toggle","modal").attr("data-target","#gt_confirm_ie"):($(".custom-translate").attr("data-toggle","modal").attr("data-target","#gt_confirm_off"),$("#modalConfirm").on("click",function(){deleteCookie("googtrans",".flvs.net"),deleteCookie("googtrans",""),gTranslate.process(!1),$("html").removeClass("translated-ltr"),location.reload()}))}})}},process:function(t){if(t){if($("body").css("marginBottom","40px"),$(".wrapper").addClass("g_translate"),"undefined"!=typeof analytics){var e="Google Translation",a=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+"Translate",i="Translate Clicked - turned on",s="100";analytics.trigger(e,i,a,s)}}else if($("body").css("marginBottom","0"),$(".wrapper").removeClass("g_translate"),$(".custom-translate").removeAttr("data-toggle","modal").attr("data-target","#gt_confirm_ie"),"undefined"!=typeof analytics){e="Google Translation",a=FLVS.Sitemap.module[current_module].title+":"+$("title").text()+"Translate",i="Translate Clicked - turned off",s="100";analytics.trigger(e,i,a,s)}}},gifAnim={init:function(){var t,e=[];for(t=document.querySelectorAll("[data-gAnim]"),i=0;i<t.length;++i)gifAnim.process(t[i],e);return e},formatUnit:function(t){return t+(t.toString().indexOf("%")>0?"":"px")},parseStyles:function(t){var e="";for(prop in t)e+=prop+":"+t[prop]+";";return e},createContainer:function(t,e,a,i,s){var n,o=document.createElement("BUTTON"),r=a.getAttribute("class"),l=a.getAttribute("id"),d="rgba(0, 0, 0, 0.7)",c="rgba(255, 255, 255, 0.7)";"dark"===s&&(d="rgba(255, 255, 255, 0.7)",c="rgba(0, 0, 0, 0.7)");var h=["width:60px","height:60px","border-radius:30px","background:"+d,"position:absolute","top:50%","left:50%","margin:-30px"].join(";"),u=["width: 0","height: 0","border-top: 14px solid transparent","border-bottom: 14px solid transparent","border-left: 14px solid "+c,"position: absolute","left: 26px","top: 16px"].join(";");r&&o.setAttribute("class",a.getAttribute("class")),l&&o.setAttribute("id",a.getAttribute("id")),o.setAttribute("style","width:"+t+"px;height:"+e+"px;"),o.setAttribute("aria-hidden","true"),o.setAttribute("class","gAnimBg");var p=document.createElement("SPAN");p.setAttribute("class","gAnim-alt"),p.setAttribute("aria-hidden","true"),p.setAttribute("style","position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden;"),p.innerText="Start Animation ";var m=document.createElement("DIV");m.setAttribute("class","gAnim-play-button"),m.setAttribute("style",h);var g=document.createElement("DIV");return g.setAttribute("style",u),m.appendChild(g),i&&((n=document.createElement("p")).setAttribute("class","gAnim-alt"),n.setAttribute("style","border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px;"),n.innerText=i+", image"),o.appendChild(p),o.appendChild(m),a.parentNode.replaceChild(o,a),i&&o.parentNode.insertBefore(n,o.nextSibling),{c:o,p:m}},calculatePercentageDim:function(t,e,a,i,s){var n=t.parentNode.offsetWidth,o=(t.parentNode.offsetHeight,i/s);return e.toString().indexOf("%")>0?a=(e=(e=parseInt(e.toString().replace("%","")))/100*n)/o:a.toString().indexOf("%")>0&&(e=(a=(a=parseInt(a.toString().replace("%","")))/100*n)*o),{w:e,h:a}},process:function(t,e){var a,i,s,n,o,r,l,d,c,h,u,p,m,g,f=!1;a=t.getAttribute("data-gAnim"),n=t.getAttribute("data-gAnim-width"),o=t.getAttribute("data-gAnim-height"),l=t.getAttribute("data-gAnim-duration"),g=t.getAttribute("data-gAnim-alt"),r=t.getAttribute("data-gAnim-button"),t.style.display="block",s=document.createElement("canvas"),u=!(!s.getContext||!s.getContext("2d")),n&&o&&u&&(h=gifAnim.createContainer(n,o,t,g,r)),t.onload=function(){u&&(n=n||t.width,o=o||t.height,h||(h=gifAnim.createContainer(n,o,t,g,r)),i=h.c,d=h.p,m=gifAnim.calculatePercentageDim(i,n,o,t.width,t.height),e.push(i),i.addEventListener("click",function(){clearTimeout(p),f?(f=!1,i.appendChild(d),i.removeChild(c),i.appendChild(s),c=null):(f=!0,(c=document.createElement("IMG")).setAttribute("style","width:100%;height:100%;"),c.setAttribute("data-uri",Math.floor(1e5*Math.random())+1),c.setAttribute("alt",g),c.setAttribute("class","gAnim"),setTimeout(function(){c.src=a},0),i.removeChild(d),i.removeChild(s),i.appendChild(c),parseInt(l)>0&&(p=setTimeout(function(){f=!1,i.appendChild(d),i.removeChild(c),i.appendChild(s),c=null},l)))}),s.width=m.w,s.height=m.h,s.getContext("2d").drawImage(t,0,0,m.w,m.h),i.appendChild(s),i.setAttribute("style","position:relative;cursor:pointer;width:"+m.w+"px;height:"+m.h+"px;background:none;border:none;padding:0;"),s.style.width="100%",s.style.height="100%",n.toString().indexOf("%")>0&&o.toString().indexOf("%")>0?(i.style.width=n,i.style.height=o):n.toString().indexOf("%")>0?(i.style.width=n,i.style.height="inherit"):o.toString().indexOf("%")>0?(i.style.width="inherit",i.style.height=o):(i.style.width=m.w+"px",i.style.height=m.h+"px"))},t.src=a}},tagit={init:function(){!0===isexternal?loadSitemap(tagit.populate):tagit.populate()},stopIt:function(t){return t.addClass("bg-danger").text("your module-id/lesson-id/page-count could not be found in the sitemap, please verify it has been added"),!1},populate:function(){$("module_name").each(function(){if(isexternal){var t=void 0!==$(this).attr("data-module-id")&&$(this).attr("data-module-id"),e=FLVS.Sitemap.module.find(function(e){return e.mID===t});e?$(this).replaceWith("<span class='unlock mnumber'>"+e.title+"</span>"):tagit.stopIt($(this))}else $(this).replaceWith("<span class='unlock mnumber'>"+FLVS.Sitemap.module[current_module].title+"</span>")}),$("module_number").each(function(){if(isexternal){var t=void 0!==$(this).attr("data-module-id")&&$(this).attr("data-module-id"),e=FLVS.Sitemap.module.find(function(e){return e.mID===t});e?$(this).replaceWith("<span class='unlock mnumber'>"+e.num+"</span>"):tagit.stopIt($(this))}else $(this).replaceWith("<span class='unlock mnumber'>"+FLVS.Sitemap.module[current_module].num+"</span>")}),$("module_number_text").each(function(){if(isexternal){var t=void 0!==$(this).attr("data-module-id")&&$(this).attr("data-module-id"),e=FLVS.Sitemap.module.find(function(e){return e.mID===t});e?$(this).replaceWith("<span class='unlock mnumber'>"+tagit.numberConvert(e.num)+"</span>"):tagit.stopIt($(this))}else $(this).replaceWith("<span class='unlock mnumber'>"+tagit.numberConvert(FLVS.Sitemap.module[current_module].num)+"</span>")}),$("lesson_name").each(function(){if(isexternal){var t=void 0!==$(this).attr("data-module-id")&&$(this).attr("data-module-id"),e=void 0!==$(this).attr("data-lesson-id")&&$(this).attr("data-lesson-id"),a=FLVS.Sitemap.module.find(function(e){return e.mID===t});if(a){var i=a.lesson.find(function(t){return t.lID===e});i?$(this).replaceWith("<span class='unlock lname'>"+i.title+"</span>"):tagit.stopIt($(this))}else tagit.stopIt($(this))}else $(this).replaceWith("<span class='unlock lname'>"+FLVS.Sitemap.module[current_module].lesson[current_lesson].title+"</span>")}),$("lesson_num").each(function(){if(isexternal){var t=void 0!==$(this).attr("data-module-id")&&$(this).attr("data-module-id"),e=void 0!==$(this).attr("data-lesson-id")&&$(this).attr("data-lesson-id"),a=FLVS.Sitemap.module.find(function(e){return e.mID===t});if(a){var i=a.lesson.find(function(t){return t.lID===e});i?$(this).replaceWith("<span class='lesson_number'>"+i.num+"</span>"):tagit.stopIt($(this))}else tagit.stopIt($(this))}else $(this).replaceWith("<span class='lesson_number'>"+FLVS.Sitemap.module[current_module].lesson[current_lesson].num+"</span>")}),$("page_name").each(function(){if(isexternal){var t=void 0!==$(this).attr("data-module-id")&&$(this).attr("data-module-id"),e=void 0!==$(this).attr("data-lesson-id")&&$(this).attr("data-lesson-id"),a=void 0!==$(this).attr("data-page-count")&&$(this).attr("data-page-count"),i=FLVS.Sitemap.module.find(function(e){return e.mID===t});if(i){var s=i.lesson.find(function(t){return t.lID===e});if(s){var n=s.page.find(function(t){return t.pID===a});i&&s&&n?$(this).replaceWith("<span class='unlock pname'>"+n.title+"</span>"):tagit.stopIt($(this))}else tagit.stopIt($(this))}else tagit.stopIt($(this))}else $(this).replaceWith("<span class='unlock pname'>"+FLVS.Sitemap.module[current_module].lesson[current_lesson].page[current_page-1].title+"</span>")})},numberConvert:function(t){var e=["","one","two","three","four","five","six","seven","eight","nine"];return isNaN(t)?'<span class="bg-danger">Not A Number</span>':t<10?'<span class="text-capitalize">'+e[t]+"</span>":t>=10&&t<20?'<span class="text-capitalize">'+["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"][t-10]+"</span>":'<span class="text-capitalize">'+["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"][Math.floor(t/10)]+" "+e[t%10]+"</span>"}};